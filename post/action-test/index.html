<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="shortcut icon" href="https://acme-systems.space/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <link rel="canonical" href="https://acme-systems.space/post/action-test/" />
    <link rel="stylesheet" href="css/syntax.css" />
    <title>GitHub Actions Test</title>
</head>
<body><header id="banner">
    <h2><a href="https://acme-systems.space">ACME-SPACE</a></h2>
    <nav>
        <ul>
            <li>
                <a href="/" title="posts">posts</a>
            </li><li>
                <a href="/about/" title="about">about</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>GitHub Actions Test</h1>
        <div>
                <time>January 17, 2023</time>
            </div>
    </header><h3 id="やりたいこと">やりたいこと</h3>
<p>GitHub Actions による Hugo デプロイの動作確認</p>
<h3 id="reference">Reference</h3>
<p><a href="https://zenn.dev/nikaera/articles/hugo-github-actions-for-github-pages">https://zenn.dev/nikaera/articles/hugo-github-actions-for-github-pages</a>
<a href="https://www.pseudoyu.com/en/2022/05/29/deploy_your_blog_using_hugo_and_github_action/">https://www.pseudoyu.com/en/2022/05/29/deploy_your_blog_using_hugo_and_github_action/</a></p>
<h3 id="steps">Steps</h3>
<h4 id="記事の作成">記事の作成</h4>
<pre tabindex="0"><code>$ /acme-space% hugo new action-test.md 
Content &#34;~/acme-space/content/action-test.md&#34; created

$ /acme-space% vi content/post/action-test.md 
</code></pre><h4 id="デプロイ">デプロイ</h4>
<pre tabindex="0"><code>$ /acme-space% hugo -D -F                 
Start building sites … 
hugo v0.109.0+extended darwin/amd64 BuildDate=unknown

                   | EN  
-------------------+-----
  Pages            | 13  
  Paginator pages  |  0  
  Non-page files   |  0  
  Static files     |  0  
  Processed images |  0  
  Aliases          |  0  
  Sitemaps         |  1  
  Cleaned          |  0  

Total in 30 ms
</code></pre><h4 id="git">Git</h4>
<pre tabindex="0"><code>$ /acme-space% cd public/

$ /acme-space/public% git add -A                 

$ /acme-space/public% git commit -m &#34;action test&#34;
[main 08e1d05] action test
 9 files changed, 157 insertions(+), 4 deletions(-)
 create mode 100644 action-test/index.html
 create mode 100644 post/action-test/index.html

$ /acme-space/public% git push origin main       
Enumerating objects: 27, done.
Counting objects: 100% (27/27), done.
Delta compression using up to 8 threads
Compressing objects: 100% (14/14), done.
Writing objects: 100% (16/16), 1.60 KiB | 1.60 MiB/s, done.
Total 16 (delta 9), reused 0 (delta 0)
remote: Resolving deltas: 100% (9/9), completed with 5 local objects.
To github.com:acme-space/acme-space.github.io
   cd8ede5..08e1d05  main -&gt; main
</code></pre><h3 id="workflow-ファイル">Workflow ファイル</h3>
<pre tabindex="0"><code>cat .github/workflows/gh-pages.yml
name: github pages

on:
  push:
    branches:
      - main  # Set a branch name to trigger deployment

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: &#39;latest&#39;

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          PERSONAL_TOKEN: ${{ secrets.MY_GITHUB_ACCESS_TOKEN }}
          EXTERNAL_REPOSITORY: acme-space/acme-space.github.io
          PUBLISH_BRANCH: main
          PUBLISH_DIR: ./public 
          commit_message: ${{ github.event.head_commit.message }}
  
</code></pre></article>

        </main><footer id="footer">
    Copyright © 2023 ACME-SPACE
</footer>
</body>
</html>
